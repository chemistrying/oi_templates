\subsection{Binary Indexed Tree / Fenwick Tree}
\begin{lstlisting}
class fenwick {
    // must be one-based
    vector<long long> bit;
    int size = 0;

public:
    fenwick(int length) {
        bit.resize(length + 1);
        this->size = length + 1;
    }

    void update(int pos, int val) {
        for (; pos < size; pos += pos & (-pos)) bit[pos] += val;
    }

    long long query(int pos) {
        long long ans = 0;
        for (;pos > 0; pos -= pos & (-pos)) ans += bit[pos];
        return ans;
    }
};
\end{lstlisting}